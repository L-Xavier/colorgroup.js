/*
 * colorgroup.js
 * version v2.3
 * author L.Xavier 
 * Contact me through L.Xavier@qq.com
 */
function getcolor(c,g){c=c||"rgb(130,230,130)",g=parseInt(g)||3;g=(g<1)?1:g;var f=c.split("|"),b=colorRgb(f[0]).replace(/(?:\(|\)|rgb|RGB)*/g,"").split(","),a="";try{a=colorRgb(f[1]).replace(/(?:\(|\)|rgb|RGB)*/g,"").split(",")}catch(d){a=""}f=(a==""||f[0]==f[1])?coloritem1(b,g):coloritem2(b,a,g);return f}function colorRgb(b){var e=/^#?([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/;var d=b.toLowerCase();if(!/^(rgb|RGB)/.test(d)&&d.indexOf(",")>-1){d="rgb("+d+")"}else{if(!/^(rgb|RGB)/.test(d)&&d.indexOf("#")==-1){d="#"+d}}if(d&&e.test(d)){if(d.length===4){var f="#";for(var c=1;c<4;c+=1){f+=d.slice(c,c+1).concat(d.slice(c,c+1))}d=f}var a=[];for(var c=1;c<7;c+=2){a.push(parseInt("0x"+d.slice(c,c+2)))}return"RGB("+a.join(",")+")"}else{return d}}function coloritem1(e,a){var f=255,j=0;for(var c=0;c<e.length;c++){f=(parseInt(e[c])<f)?parseInt(e[c]):f;j=(parseInt(e[c])>j)?parseInt(e[c]):j}(a<=0)?a=3:a=a;var m=[parseInt(e[0]),parseInt(e[1]),parseInt(e[2])],g=0,n=true,k=parseInt((j-f)/a)*6,h="rgb("+m[0]+","+m[1]+","+m[2]+")",d=new Array();var b=function(){(m[g]<(f+a))?n=true:n=n;(m[g]>(j-a))?n=false:n=n;if(n){m[g]=m[g]+a;temp=m[g]+a;if(temp>j){g++;(g==3)?g=0:g=g}}if(!n){m[g]=m[g]-a;temp=m[g]-a;if(temp<f){g++;(g==3)?g=0:g=g}}h="rgb("+m[0]+","+m[1]+","+m[2]+")"};d.push(h);for(var o=0;o<k;o++){b();d.push(h)}return d}function coloritem2(k,j,a){var h=[parseInt(k[0]),parseInt(k[1]),parseInt(k[2])],g=[parseInt(j[0]),parseInt(j[1]),parseInt(j[2])],c=0;rgb="rgb("+h[0]+","+h[1]+","+h[2]+")",colorgroup=new Array();colorgroup.push(rgb);var b=[Math.abs(h[0]-g[0]),Math.abs(h[1]-g[1]),Math.abs(h[2]-g[2])];c=Math.max.apply(null,b)/a;var f=[b[0]/c,b[1]/c,b[2]/c];for(var e=0;e<c;e++){for(var d=0;d<3;d++){if(h[d]<=g[d]){h[d]=((h[d]+f[d])>=g[d])?g[d]:h[d]+f[d]}else{h[d]=((h[d]-f[d])<=g[d])?g[d]:h[d]-f[d]}}rgb="rgb("+Math.round(h[0])+","+Math.round(h[1])+","+Math.round(h[2])+")";colorgroup.push(rgb)}return colorgroup};
